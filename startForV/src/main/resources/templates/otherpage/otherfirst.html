<!DOCTYPE html>
<html lang="en"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="_csrf" th:content="${_csrf.token}"/>
    <meta name="_csrf_header" th:content="${_csrf.headerName}"/>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>å›æ–Œç”Ÿé²œè¶…å¸‚</title>
    <link type="text/css" rel="stylesheet" href="/webjars/amazeui/2.7.2/dist/css/amazeui.min.css">
    <link type="text/css" rel="stylesheet" href="/webjars/amazeui/2.7.2/dist/css/amazeui.css">
    <link type="text/css" rel="stylesheet" href="/webjars/bootstrap/3.3.7/css/bootstrap.min.css">
    <link type="text/css" rel="stylesheet" href="/assets/css/app.css">
    <link rel="stylesheet" href="/assets/layui/css/layui.css"  media="all">
</head>
<style>
    ::-webkit-scrollbar-thumb {/*æ»šåŠ¨æ¡é‡Œé¢å°æ–¹å—*/
        border-radius: 5px;
        -webkit-box-shadow: inset 0 0 5px rgba(0,0,0,0.2);
        background: rgba(60, 133, 250, 0.56);
    }

    .am-selected-btn {
        width: 235%;
    }
    a:hover{
        text-decoration: none;
    }
    .tpl-content-wrapper{
        min-height:auto;
    }
    .left-sidebar{
        position: fixed;
    }
    ::-webkit-scrollbar {/*æ»šåŠ¨æ¡æ•´ä½“æ ·å¼*/
        width: 4px;     /*é«˜å®½åˆ†åˆ«å¯¹åº”æ¨ªç«–æ»šåŠ¨æ¡çš„å°ºå¯¸*/
        height: 4px;
    }
    #buybar{
        background-image: url("/images/15.png");
    }
</style>
<body >

<!--å‡ºç°å…·ä½“æœè”¬ä¿¡æ¯ï¼Œè´­ä¹°ä»€ä¹ˆçš„éƒ½åœ¨è¿™é‡Œé¢-->
<div class="am-modal am-modal-prompt" tabindex="33" id="doc-showforvinfo"
     closeViaDimmer="false">
    <div class="am-modal-dialog "  style="width: 30%;height: 80%;background-color: #FFFFFF;border: 6px solid #DB5860;border-radius: 30px;position: relative">
        <div class="am-modal-hd" >
            <a href="javascript: void(0)" class="am-close am-close-spin" data-am-modal-close style="font-size: 30px">&times;</a>
        </div>
        <div style="height:92%;overflow: auto" >
            <div  style="width: 100%;height: 70%;">
                <img id="forvimg" src="/images/04.png" width="90%" height="90%">
            </div>

            <div style="border: 5px solid #DB5860;width: 100%;height: auto;background-color: #DD001B" id="buybar">
                <div>
                    <div class="am-g" style="color: whitesmoke">
                        <div class="col-md-4 " style="margin-top: 1%;font-size: 25px">ï¿¥<span id="price" >ä»·æ ¼</span>/æ–¤</div>
                        <div class="col-md-4" style="margin-top: 1%;font-size: 25px"><span  id="whatforv">æœè”¬</span></div>
                        <div class="col-md-4 " id="evaluatepoint">è¯„ä»·</div>
                    </div>
                    <div class="am-g" style="color: whitesmoke">
                        <div class="col-md-4 "style="border: 1px solid #d4f8ff;">å·²ç»å”®å‡º:<span id="sellnum">é”€é‡</span>æ–¤</div>
                    </div>
                </div>
            </div>

            <div style="width: 100%;height: auto;" id="commentarea">
<!--                è¯„è®ºåŒº-->

            </div>
        </div>
            <div style="background: whitesmoke;position:absolute;bottom: 2px;width: 100%;height: auto;border-radius: 30px;position: relative" >
                <div class="am-g" >
                    <div class="col-lg-4 "></div>
                    <div class="col-lg-3 "></div>
                    <div class="col-lg-5" style="padding-right: 0px">
                        <div class="am-btn-group">
                            <button type="button" class="am-btn am-round am-btn-warning" onclick="openshopcar()"> <i class="am-icon-shopping-cart"></i>&nbspæ‰”è´­ç‰©è½¦</button>
                            <button type="button" class="am-btn am-round am-btn-danger" onclick="openbuy()"> <i class="am-icon-rmb"></i>&nbspä¹°!</button>
                        </div>
                    </div>
                </div>
            </div>
    </div>
</div>
<!--è´­ä¹°å¼¹çª—-->
<div class="am-modal am-modal-no-btn" tabindex="-1" id="my-buy"  closeViaDimmer="false" >
    <div class="am-modal-dialog"  style="width: 40%;height: 55%;background-color: #FFFFFF;border: 6px solid #DB5860;border-radius: 30px;" >
        <div class="am-modal-hd">
            <a href="javascript: void(0)" class="am-close am-close-spin" data-am-modal-close>&times;</a>
        </div>
        <div class="am-modal-bd">
            <div class="am-g">
                <div class="col-sm-3" style="width: 20%;height: 20%"><img id="buyimg" width="90%" height="90%"></div>
                <div class="col-sm-9" >
                    <div class="am-g">
                        <div class="col-sm-6" id="buyname" style="font-size: 50px"></div>
                        <div class="col-sm-6" style="font-size: 50px"><span id="buyprice" ></span>/æ–¤</div>
                    </div>
                </div>
            </div>

            <div class="am-g" style="margin-top: 5%">
                <div class="col-sm-2" style=""><button type="button" class="am-btn am-btn-warning" id="btndis" onclick="buycountdisone()">-</button></div>
                <div class="col-sm-2" style="padding: 0px"> <input type="text"  class="am-form-field " disabled="disabled" id="wangbuycount" value="1"></div>
                <div class="col-sm-2 " style=""><button type="button" class="am-btn am-btn-warning" id="btnadd" onclick="buycountaddone()">+</button></div>
                <div style="font-size: 20px;color: #F37B1D">å½“å‰åº“å­˜å‰©ä½™:<span id="nowstockcount"></span></div>
            </div>
            <div style="height: 40%;width: 80%;position: absolute;bottom: 15%;left: 10%">
                <form>
                    <div class="am-input-group">
                        <span class="am-input-group-label"><i class="am-icon-user"></i></span>
                        <input type="text" id="buyusername" class="am-form-field" placeholder="è¾“å…¥æ”¶ä»¶äººæ˜µç§°">
                    </div>
                    <div class="am-input-group">
                        <span class="am-input-group-label"><i class="am-icon-phone"></i></span>
                        <input type="text" id="buyphone" class="am-form-field" placeholder="è¾“å…¥æ”¶ä»¶äººæ‰‹æœºå·">
                    </div>
                    <textarea id="address" class="am-form-field" style="height: 80px" placeholder="è¾“å…¥æ”¶ä»¶äººçš„æ”¶è´§åœ°å€">

                    </textarea>
                </form>
                <li class="am-dropdown tpl-dropdown" data-am-dropdown>
                    <a href="javascript:;" class="am-dropdown-toggle tpl-dropdown-toggle" data-am-dropdown-toggle>
                        å¿«é€Ÿé€‰æ‹©<i class="am-icon-check"></i>
                    </a>
                    <!-- å¼¹å‡ºåˆ—è¡¨ -->
                    <ul class="am-dropdown-content tpl-dropdown-content" id="selectexpress" >

                    </ul>
                </li>

            </div>
<!--            realbuy()-->
            <div id="buyorputinshopcar">
                <div type="button"  onclick="" class="am-btn am-round am-btn-warning" style="position: absolute;bottom: 1%;right: 1%"> <i class="am-icon-rmb"></i>&nbspæ”¾å…¥è´­ç‰©è½¦!</div>
<!--                <div type="button" id="realbtn" onclick="openinpupay()" class="am-btn am-round am-btn-danger" style="position: absolute;bottom: 1%;right: 1%"> <i class="am-icon-rmb"></i>&nbspä¹°!</div>-->
            </div>
        </div>
    </div>
</div>
<!--è´­ç‰©è½¦å¼¹çª—-->
<div class="am-modal am-modal-no-btn" tabindex="-1" id="my-shopcar"  closeViaDimmer="false" >
    <div class="am-modal-dialog"  style="width: 30%;height: 30%;background-color: #FFFFFF;border: 6px solid #F37B1D;border-radius: 30px;" >
        <div class="am-modal-hd">
            <a href="javascript: void(0)" class="am-close am-close-spin" data-am-modal-close>&times;</a>
        </div>
        <div class="am-modal-bd">
            <div class="am-g">
                <div class="col-sm-3" style="width: 20%;height: 20%"><img id="shopcarimg" width="90%" height="90%"></div>
                <div class="col-sm-9" >
                    <div class="am-g">
                        <div class="col-sm-6" id="shopcarname" style="font-size: 50px"></div>
                        <div class="col-sm-6" style="font-size: 50px"><span id="shopcarprice" ></span>/æ–¤</div>
                    </div>
                </div>
            </div>

            <div class="am-g" style="margin-top: 5%">
                <div class="col-sm-2" style=""><button type="button" class="am-btn am-btn-warning" id="shopcardis" onclick="shopcarcountdisone()">-</button></div>
                <div class="col-sm-2" style="padding: 0px"> <input type="text"  class="am-form-field " disabled="disabled" id="wangshopcarcount" value="1"></div>
                <div class="col-sm-2 " style=""><button type="button" class="am-btn am-btn-warning" id="shopcaradd" onclick="shopcarcountaddone()">+</button></div>
                <div style="font-size: 20px;color: #F37B1D">å½“å‰åº“å­˜å‰©ä½™:<span id="shopcarstockcount"></span></div>
            </div>
            <!--            realbuy()-->

                <div type="button" id="shopcarbtn" onclick="putinshopcarlist()" class="am-btn am-round am-btn-warning" style="position: absolute;bottom: 1%;right: 1%"> <i class="am-icon-shopping-cart"></i>&nbspæ”¾å…¥è´­ç‰©è½¦!</div>
                <!--                <div type="button" id="realbtn" onclick="openinpupay()" class="am-btn am-round am-btn-danger" style="position: absolute;bottom: 1%;right: 1%"> <i class="am-icon-rmb"></i>&nbspä¹°!</div>-->

        </div>
    </div>
</div>
<!--æ›´æ¢å¤´åƒæ¨¡æ€æ¡†-->
<div class="am-modal am-modal-prompt" tabindex="33" id="doc-upotherheadimg" style="z-index: 12000;"
     closeViaDimmer="false">
    <div class="am-modal-dialog" style="border: 5px solid #b1f5ef">
        <div class="am-modal-hd">æ›´æ¢å¤´åƒ
            <a href="javascript: void(0)" class="am-close am-close-spin" data-am-modal-close>&times;</a>
        </div>
        <div class="am-form-file" style="margin-left: 8px;">
            <div id="file-list"></div>
            <button type="button" class="am-btn batchbt"
                    style="border-radius: 20px !important; width: 150px;">
                <i class="am-icon-cloud-upload"></i>
                <span>ä¸Šä¼ å›¾ç‰‡</span>
            </button>
            <input id="doc-form-file" type="file" accept="image/*" onchange="changImg(event)" >
        </div>
        <img alt="é€‰æ‹©å›¾ç‰‡" id="myImg" src="/images/headinit.png" height="100px",width="100px">
        <div class="am-modal-footer">
            <span class="am-modal-btn" data-am-modal-cancel>å–æ¶ˆ</span>
            <span class="am-modal-btn" data-am-modal-confirm style="color: brown">æäº¤</span>
        </div>

    </div>
</div>
<!--æ™®é€šç”¨æˆ·ä¿®æ”¹å¯†ç å¼¹çª—-->
<div class="am-modal am-modal-no-btn" tabindex="-1" id="doc-uppassword" >
    <div class="am-modal-dialog" >
        <div class="am-modal-hd">æ›´æ–°å¯†ç 
            <a href="javascript: void(0)" class="am-close am-close-spin" data-am-modal-close>&times;</a>
        </div>
        <div class="am-modal-bd">
            <div class="am-input-group">
                <span class="am-input-group-label"><i class="am-icon-user"></i></span>
                <input type="text" class="am-form-field" placeholder="è¾“å…¥æ–°è´¦æˆ·" id="olduser">
            </div>
            <div class="am-input-group">
                <span class="am-input-group-label"><i class="am-icon-user"></i></span>
                <input type="password" class="am-form-field" placeholder="è¾“å…¥è€çš„å¯†ç " id="nowpassword">
            </div>
            <div class="am-input-group">
                <span class="am-input-group-label"><i class="am-icon-user"></i></span>
                <input type="password" class="am-form-field" placeholder="è¾“å…¥æ–°çš„å¯†ç " id="newpassword">
            </div>
            <button style="margin-top: 2%" type="button" class="am-btn am-btn-default" onclick="realuppasswordanduser()">ç¡®å®šä¿®æ”¹å¯†ç æˆ–(ä¸)è´¦æˆ·</button>
        </div>

    </div>
</div>
<!--æ³¨å†Œæ”¯ä»˜å¯†ç å¼¹çª—-->
<div class="am-modal am-modal-no-btn" tabindex="-1" id="doc-paypassword" >
    <div class="am-modal-dialog">
        <div class="am-modal-hd">ä½ è¿˜æ²¡æœ‰æ”¯ä»˜å¯†ç ï¼Œè¯·åŠ¡å¿…æ³¨å†Œä¸€ä¸ª
        </div>
        <div class="am-modal-bd">
            <div class="am-input-group">
                <span class="am-input-group-label"><i class="am-icon-lock"></i></span>
                <input type="password" id="paypassword" class="am-form-field" placeholder="è¾“å…¥ä½ è¦çš„æ”¯ä»˜å¯†ç ">
            </div>
            <div class="am-input-group">
                <span class="am-input-group-label"><i class="am-icon-lock"></i></span>
                <input type="password" id="againpaypassword" class="am-form-field" placeholder="é‡å¤è¾“å…¥ä½ è¦çš„æ”¯ä»˜å¯†ç ">
            </div>
            <button type="button" onclick="changepaypassword()" class="am-btn am-btn-default">ç¡®å®š</button>
        </div>
    </div>
</div>
<!--å……å€¼å¼¹çª—-->
<div class="am-modal am-modal-no-btn" tabindex="-1" id="doc-addbalance" >
    <div class="am-modal-dialog" style="border: 3px solid  #33C5D2;border-radius: 15px;">
        <div class="am-modal-hd">å……å€¼
            <a href="javascript: void(0)" class="am-close am-close-spin" data-am-modal-close>&times;</a>
        </div>
        <div class="am-modal-bd">
            <div class="am-g">
                <div class="col-md-9 ">
                    <div class="am-input-group" style="border: 1px solid #33C5D2">
                        <span class="am-input-group-label">$</span>
                        <input type="text" class="am-form-field" id="needaddbalanceval" placeholder="è¾“è¦å……å€¼çš„é‡‘é¢">
                    </div>
                </div>
                <div class="col-md-3 ">
                    <button type="button" class="am-btn am-btn-primary" style="border: 1px solid #33C5D2;width: 100%" onclick="addbalanceinputpaypassword()">å……å€¼</button>
                </div>
            </div>
        </div>
    </div>
</div>
<!--ç¡®è®¤æ”¶è´§å¼¹çª—-->
<div class="am-modal am-modal-prompt" tabindex="33" id="doc-isdone"
     closeViaDimmer="false">
    <div class="am-modal-dialog" style="border: 5px solid #b1f5ef; border-radius: 8px;">
        <div class="am-modal-hd">æ˜¯å¦ç¡®è®¤æ”¶è´§
            <a href="javascript: void(0)" class="am-close am-close-spin" data-am-modal-close>&times;</a>
        </div>
        <div class="am-modal-footer">
            <span class="am-modal-btn" data-am-modal-cancel>å–æ¶ˆ</span>
            <span class="am-modal-btn" data-am-modal-confirm style="color: brown">ç¡®å®š</span>
        </div>

    </div>
</div>
<!--è¾“å…¥äº¤æ˜“å¯†ç å¼¹çª—-->
<div class="am-modal am-modal-no-btn" tabindex="-1" id="doc-inpupay">
    <div class="am-modal-dialog" style="border: 3px solid  #F37B1D;border-radius: 15px;">
        <div class="am-modal-hd">è¾“å…¥ä½ çš„æ”¯ä»˜å¯†ç 
            <a href="javascript: void(0)" class="am-close am-close-spin" data-am-modal-close>&times;</a>
        </div>
        <div class="am-modal-bd">
            <div class="am-input-group">
                <span class="am-input-group-label"><i class="am-icon-lock"></i></span>
                <input type="password" id="beforebuyneedinputpassword" class="am-form-field" placeholder="è¾“å…¥ä½ è¦çš„æ”¯ä»˜å¯†ç ">
            </div>
            <div id="inpupaybtn">

            </div>
        </div>
    </div>
</div>
<!--è¯„è®ºå¼¹çª—-->
<div class="am-modal am-modal-prompt" tabindex="33" id="doc-iscomment"
     closeViaDimmer="false">
    <div class="am-modal-dialog" style="border: 5px solid #b1f5ef; border-radius: 3px;">
        <div class="am-modal-hd"><span id="commenthead"></span>
            <a href="javascript: void(0)" class="am-close am-close-spin" data-am-modal-close>&times;</a>
        </div>
        <div class="am-modal-bd">
            <div class="row">
                <textarea id="comenttext" placeholder="è¾“å…¥ä½ çš„è¯„è®º"></textarea>
            </div>
            <div class="row">
                <div id="choiseleave"></div>
            </div>
        </div>
        <div class="am-modal-footer">
            <span class="am-modal-btn" data-am-modal-cancel>å–æ¶ˆ</span>
            <span class="am-modal-btn" data-am-modal-confirm style="color: brown">ç¡®å®š</span>
        </div>

    </div>
</div>
<!--è´­ä¹°æç¤ºä¸“ç”¨å¼¹çª—-->
<div class="am-modal am-modal-alert" tabindex="-1" id="my-alert">
    <div class="am-modal-dialog" style="border: 3px solid #F37B1D;border-radius: 15px;">
        <div class="am-modal-hd" >å°Šè´µçš„<span id="alerthead"></span ></div>
        <div class="am-modal-bd">
            æ‚¨è´­ä¹°æˆåŠŸ
        </div>
        <div class="am-modal-footer">
            <span class="am-modal-btn" data-am-modal-confirm>ç¡®å®š</span>
        </div>
    </div>
</div>
<!--å¢åŠ å¿«é€’å¿«æ·è¾“å…¥ä¿¡æ¯å¼¹çª—-->
<div class="am-modal am-modal-prompt" tabindex="33" id="doc-addexpressinfo"
     closeViaDimmer="false">
    <div class="am-modal-dialog" style="border: 5px solid #b1f5ef; border-radius: 3px;">
        <div class="am-modal-hd">å¢åŠ 
            <a href="javascript: void(0)" class="am-close am-close-spin" data-am-modal-close>&times;</a>
        </div>
        <div class="am-input-group">
            <span class="am-input-group-label"><i class="am-icon-user am-icon-fw"></i></span>
            <input type="text" id="addexpressname"  class="am-form-field" placeholder="è¾“å…¥æ”¶è´§äººæ˜µç§°">
        </div>
        <div class="am-input-group">
            <span class="am-input-group-label"><i class="am-icon-phone am-icon-fw"></i></span>
            <input type="text" id="addexpresstellphone"  class="am-form-field" placeholder="è¾“å…¥æ”¶è´§äººç”µè¯">
        </div>
        <div class="am-input-group">
            <span class="am-input-group-label"><i class="am-icon-map am-icon-fw"></i></span>
            <input type="text" id="addexpressaddress"  class="am-form-field" placeholder="è¾“å…¥æ”¶è´§äººåœ°å€">
        </div>
        <div class="am-modal-footer">
            <span class="am-modal-btn" data-am-modal-cancel>å–æ¶ˆ</span>
            <span class="am-modal-btn" data-am-modal-confirm style="color: brown">æäº¤</span>
        </div>

    </div>
</div>
<!--ä¿®æ”¹å¿«é€’å¿«æ·è¾“å…¥ä¿¡æ¯å¼¹çª—-->
<div class="am-modal am-modal-prompt" tabindex="33" id="doc-upexpressinfo"
     closeViaDimmer="false">
    <div class="am-modal-dialog" style="border: 5px solid #b1f5ef; border-radius: 3px;">
        <div class="am-modal-hd">ä¿®æ”¹
            <a href="javascript: void(0)" class="am-close am-close-spin" data-am-modal-close>&times;</a>
        </div>
        <div class="am-input-group">
            <span class="am-input-group-label"><i class="am-icon-user am-icon-fw"></i></span>
            <input type="text" id="upexpressname"  class="am-form-field" placeholder="è¾“å…¥æ”¶è´§äººæ˜µç§°">
        </div>
        <div class="am-input-group">
            <span class="am-input-group-label"><i class="am-icon-phone am-icon-fw"></i></span>
            <input type="text" id="upexpressphone"  class="am-form-field" placeholder="è¾“å…¥æ”¶è´§äººç”µè¯">
        </div>
        <div class="am-input-group">
            <span class="am-input-group-label"><i class="am-icon-map am-icon-fw"></i></span>
            <input type="text" id="upexpressaddress"  class="am-form-field" placeholder="è¾“å…¥æ”¶è´§äººåœ°å€">
        </div>
        <div class="am-modal-footer">
            <span class="am-modal-btn" data-am-modal-cancel>å–æ¶ˆ</span>
            <span class="am-modal-btn" data-am-modal-confirm style="color: brown">æäº¤</span>
        </div>

    </div>
</div>
<!--æŸ¥çœ‹è®¢å•ä¿¡æ¯çš„å¿«é€’ä¿¡æ¯-->
<div class="am-modal am-modal-alert" tabindex="-1" id="doc-showoredrexpressinfo" closeViaDimmer="false">
    <div class="am-modal-dialog" style="border: 2px solid #2EBCC9;border-radius: 20px;">
        <div class="am-modal-hd">è®¢å•ä¿¡æ¯
            <a href="javascript: void(0)" class="am-close am-close-spin" data-am-modal-close>&times;</a>
        </div>
        <div class="am-modal-bd" style="border-radius: 20px;">
            <ul>
                <li id="receiveexpressname">1</li>
                <li id="receiveexpresstellphone">2</li>
                <li id="receiveexpressaddress">3</li>
            </ul>
        </div>
    </div>
</div>
<!--æ™®é€šæç¤ºæ¡†-->
<div class="am-modal am-modal-alert" tabindex="-1" id="generyalert">
    <div class="am-modal-dialog" style="border: 3px solid #2EBCC9;border-radius: 15px;">
        <div class="am-modal-bd" id="alertcontent">
            info
        </div>
        <div class="am-modal-footer">
            <span class="am-modal-btn" data-am-modal-confirm>ç¡®å®š</span>
        </div>
    </div>
</div>
<div class="am-g tpl-g">
    <!-- å¤´éƒ¨ -->
    <header  data-am-sticky style="z-index: 1105">
        <!-- logo -->
        <div class="am-fl tpl-header-logo" >
            <a href="javascript:;"><h3 id="headuser">ğŸŒ  ç”Ÿé²œè¶…å¸‚æ¬¢è¿æ‚¨</h3></a>
        </div>
        <!-- å³ä¾§å†…å®¹ -->
        <div class="tpl-header-fluid">
            <!-- ä¾§è¾¹åˆ‡æ¢ -->
            <div class="am-fl tpl-header-switch-button am-icon-list">
                    <span>

                </span>
            </div>
<!--             æœç´¢ --><div id="searchshopitem">

                        </div>
            <!-- å…¶å®ƒåŠŸèƒ½-->
            <div class="am-fr tpl-header-navbar">
                <ul>
                    <!-- æ¬¢è¿è¯­ -->
                    <li class="am-text-sm tpl-header-navbar-welcome">
                        <a href="javascript:;">æ¬¢è¿ä½ , <span sec:authentication="name" id="nowname"></span> </a>
                    </li>

                    <!-- æ–°æç¤º -->
                    <li class="am-dropdown" data-am-dropdown>
                        <a href="javascript:;" class="am-dropdown-toggle" data-am-dropdown-toggle>
                            <i class="am-icon-bell"></i>
                            <span class="am-badge am-badge-warning am-round item-feed-badge" id="systemmessagecount"></span>
                        </a>

                        <!-- å¼¹å‡ºåˆ—è¡¨ -->
                        <ul class="am-dropdown-content tpl-dropdown-content" id="systemmessagecontent">

                        </ul>
                    </li>

                    <!-- é€€å‡º -->
                    <li class="am-text-sm">
                        <a href="javascript:;" id="logout">
                            <span class="am-icon-sign-out"></span> é€€å‡º
                        </a>
                    </li>
                </ul>
            </div>
        </div>

    </header>
    <!-- é£æ ¼åˆ‡æ¢ -->
    <div class="tpl-skiner">
        <div class="tpl-skiner-toggle am-icon-cog">
        </div>
        <div class="tpl-skiner-content">
            <div class="tpl-skiner-content-title">
                é€‰æ‹©ä¸»é¢˜
            </div>
            <div class="tpl-skiner-content-bar">
                <span class="skiner-color skiner-white" data-color="theme-white"></span>
                <span class="skiner-color skiner-black" data-color="theme-black"></span>
            </div>
        </div>
    </div>
    <!-- ä¾§è¾¹å¯¼èˆªæ  -->
    <div class="left-sidebar" style="position: fixed">
        <!-- ç”¨æˆ·ä¿¡æ¯ -->
        <div class="tpl-sidebar-user-panel">
            <div class="tpl-user-panel-slide-toggleable" style="margin-left: 60px">
                <div class="tpl-user-panel-profile-picture" >
                    <h3><img src="/images/01.png" id="headimg" class=""></h3>
                </div>
                <span class="user-panel-logged-in-text" onclick="openupotherheadimg()" style="cursor: pointer;">
                      <i class="am-icon-circle-o am-text-success tpl-user-panel-status-icon"></i>
                       æ›´æ¢å¤´åƒ
                    </span>

            </div>
        </div>

        <!-- èœå• -->
        <ul class="sidebar-nav">
            <li class="sidebar-nav-heading">Components <span class="sidebar-nav-heading-info"> é™„åŠ ç»„ä»¶</span></li>
            <li class="sidebar-nav-link">
                <a onclick="indexfirst()" id="indexfirst">
                    <i class="am-icon-home sidebar-nav-link-logo"></i> é¦–é¡µ
                </a>
            </li>
            <li class="sidebar-nav-link">
                <a onclick="showmanageselfpage()" id="showmanageselfpage">
                    <i class="am-icon-key sidebar-nav-link-logo"></i>è´¦æˆ·ç®¡ç†
                </a>
            </li>
<!--            <li class="sidebar-nav-link">-->
<!--                <a href="calendar.html">-->
<!--                    <i class="am-icon-calendar sidebar-nav-link-logo"></i> æ—¥å†-->
<!--                </a>-->
<!--            </li>-->
            <li class="sidebar-nav-link">
                <a onclick="showallitempage()" id="showallitempage">
                    <i class="am-icon-wpforms sidebar-nav-link-logo"></i> å•†å“åˆ—è¡¨
                </a>
            </li>
<!--            <li class="sidebar-nav-link">-->
<!--                <a href="chart.html">-->
<!--                    <i class="am-icon-bar-chart sidebar-nav-link-logo"></i> å›¾è¡¨-->

<!--                </a>-->
<!--            </li>-->

            <li class="sidebar-nav-heading">Page<span class="sidebar-nav-heading-info"> å¸¸ç”¨é¡µé¢</span></li>
            <li class="sidebar-nav-link">
                <a href="javascript:;" class="sidebar-nav-sub-title" id="orderpage">
                    <i class="am-icon-table sidebar-nav-link-logo"></i> è®¢å•
                    <span class="am-icon-chevron-down am-fr am-margin-right-sm sidebar-nav-sub-ico"></span>
                </a>
                <ul class="sidebar-nav sidebar-nav-sub">
                    <li class="sidebar-nav-link">
                        <a onclick="showallorderpage()" id="allorderpage">
                            <span class="am-icon-angle-right sidebar-nav-link-logo"></span> æ‰€æœ‰è®¢å•
                        </a>
                    </li>

                    <li class="sidebar-nav-link">
                        <a onclick="showshopcarpage()" id="showshopcarpage">
                            <span class="am-icon-angle-right sidebar-nav-link-logo"></span> è´­ç‰©è½¦
                        </a>
                    </li>
                </ul>
            </li>
            <li class="sidebar-nav-link">
                <a onclick="editaddresspage()" id="editaddress">
                    <i class="am-icon-clone sidebar-nav-link-logo"></i> å‘è´§ä¿¡æ¯ç®¡ç†
                </a>
            </li>
            <li class="sidebar-nav-link">
                <a onclick="lookAllSystemMessages()">
                    <i class="am-icon-list sidebar-nav-link-logo"></i> æŸ¥çœ‹ç³»ç»Ÿä¿¡æ¯åˆ—è¡¨
                </a>
            </li>
<!--            <li class="sidebar-nav-link">-->
<!--                <a href="404.html">-->
<!--                    <i class="am-icon-tv sidebar-nav-link-logo"></i> 404é”™è¯¯-->
<!--                </a>-->
<!--            </li>-->

        </ul>
    </div>

    <!-- å†…å®¹åŒºåŸŸ -->
    <div class="tpl-content-wrapper" id="contentarea">




    </div>
</div>
</div>


<script src="/assets/layui/layui.js" charset="utf-8"></script>
<script type="text/javascript" src="/webjars/jquery/3.3.1/jquery.min.js"></script>
<script type="text/javascript" src="/webjars/echarts/4.0.4/dist/echarts.js"></script>
<script type="text/javascript" src="/webjars/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<script type="text/javascript" src="/webjars/amazeui/2.7.2/dist/js/amazeui.js"></script>
<script type="text/javascript" src="/assets/js/dataTables.responsive.min.js"></script>
<script type="text/javascript" src="/assets/js/app.js"></script>
<script type="text/javascript" src="/assets/js/theme.js"></script>
<script type="text/javascript">
    var header = $("meta[name='_csrf_header']").attr("content");
    var token = $("meta[name='_csrf']").attr("content");
    var imgname;
    var paypassword

    //æŸ¥è¯¢å‡ºç³»ç»Ÿä¿¡æ¯
    $(function () {
        selsystemallmessages()
    })
    setInterval( function () {
        selsystemallmessages()
    },20000);
    function selsystemallmessages(){
        $.ajax({
            type: "POST",                           //é€šè¿‡POSTæ–¹å¼ä¸Šä¼ è¯·æ±‚
            url: "/other/selpartmessages",
            dataType: "json",
            data: {},
            beforeSend: function (xhr) {
                xhr.setRequestHeader(header, token);
            },
            success: function (data) {
                $('#systemmessagecount').html(data.length)
                if(data.length==0){
                    $('#systemmessagecontent').html("æš‚æ— ä¿¡æ¯")
                }else{
                    var str=""
                    for(var i=0;i<data.length;i++){

                        str+="      <li class=\"tpl-dropdown-menu-notifications\" >\n" +
                            "                                        <a class=\"tpl-dropdown-menu-notifications-item am-cf\" >\n" +
                            "                                            <div class=\"tpl-dropdown-menu-notifications-title\" style='color: "+data[i].color+"'>\n" +
                            "                                                <i class="+data[i].icon+"></i>\n" +
                            "                                                <span> "+data[i].content+"</span>\n" +
                            "                                            </div>\n" +
                            "<br/>\n"+
                            "                                            <div class=\"tpl-dropdown-menu-notifications-title\" style='color: "+data[i].color+"'>\n" +
                            "                                                "+data[i].sendtime+"\n" +
                            "                                            </div>\n" +
                            "                                        </a>\n" +
                            "                                    </li>"
                    }
                    str+=" <li class=\"tpl-dropdown-menu-messages\">\n" +
                        "                                    <a onclick='lookAllSystemMessages()' class=\"tpl-dropdown-menu-messages-item am-cf\">\n" +
                        "                                        <i class=\"am-icon-circle-o\"></i> è¿›å…¥åˆ—è¡¨â€¦\n" +
                        "                                    </a>\n" +
                        "                                </li>"
                    $('#systemmessagecontent').html(str)
                }
            }
        })
    }

$(function () {
    ishavepass()
})
    //æŸ¥è¯¢å‡ºå½“å‰ç”¨æˆ·çš„æ”¯ä»˜å¯†ç 
    function  ishavepass(){

    $.ajax({
        type: "POST",                           //é€šè¿‡POSTæ–¹å¼ä¸Šä¼ è¯·æ±‚
        url: "/other/selthisuserpassword",
        data: {
            nowuser:$('#nowname').html()
        },
        beforeSend: function (xhr) {
            xhr.setRequestHeader(header, token);
        }, success: function (data) {
            paypassword=data.paypassword
            if(paypassword==null || paypassword==""){
                $('#doc-paypassword').modal({
                    relatedTarget: this,
                    closeOnConfirm: false,
                    closeViaDimmer:false,
                    })
            }
        }})

    }
    //æ³¨å†Œæ”¯ä»˜å¯†ç 
    function changepaypassword(){
        if($('#paypassword').val()==null || $('#paypassword').val()==''){
            $('#alertcontent').html("æ³¨å†Œçš„æ”¯ä»˜å¯†ç ä¸èƒ½ä¸ºç©º")
            $('#generyalert').modal({
                relatedTarget: this,
                closeViaDimmer:false,
                onConfirm: function (e) {
        }})}
        else if($('#againpaypassword').val()==null || $('#againpaypassword').val()==''){
            $('#alertcontent').html("é‡å¤è¾“å…¥ä¸èƒ½ä¸ºç©º")
            $('#generyalert').modal({
                relatedTarget: this,
                closeViaDimmer:false,
                onConfirm: function (e) {
                }})
        }
        else if($('#paypassword').val()!==$('#againpaypassword').val()){
            $('#alertcontent').html("ä¸¤ä¸ªå¯†ç ä¸ä¸€è‡´")
            $('#generyalert').modal({
                relatedTarget: this,
                closeViaDimmer:false,
                onConfirm: function (e) {
                }})
        }
        else {
            $.ajax({
                type: "POST",                           //é€šè¿‡POSTæ–¹å¼ä¸Šä¼ è¯·æ±‚
                url: "/other/uppaypassword",
                data: {
                    paypassword: $('#paypassword').val(),
                    user:$('#nowname').html()
                },
                beforeSend: function (xhr) {
                    xhr.setRequestHeader(header, token);
                }, success: function (data) {
                    $('#alertcontent').html("æ³¨å†ŒæˆåŠŸ")
                    $('#generyalert').modal({
                        relatedTarget: this,
                        closeViaDimmer:false,
                        onConfirm: function (e) {
                        }})
                    ishavepass()
                    $("#doc-paypassword").modal('close');
                }
            })
        }


    }
    //ç™»å‡º
    $('#logout').click(function logout() {

        $.ajax({
            type: "POST",                           //é€šè¿‡POSTæ–¹å¼ä¸Šä¼ è¯·æ±‚
            url: "/end/logout",
            data: {},
            beforeSend: function (xhr) {
                xhr.setRequestHeader(header, token);
            }, success: function (errms) {
                window.location.href = '/'
            }
        })
    })

    //å‡ºç°æ›´æ–°å¤´åƒçš„æ¨¡æ€æ¡†
    function openupotherheadimg(){
        $('#doc-upotherheadimg').modal({
            relatedTarget: this,
            closeOnConfirm: false,
            closeViaDimmer:false,
            onConfirm: function (e) {
                //å›¾ç‰‡ä¸Šä¼ ajax
                var s = $('#doc-form-file')[0].files[0];
                var formData = new FormData();
                formData.append("file_data", s);
                $.ajax({
                    type: "POST",                           //é€šè¿‡POSTæ–¹å¼ä¸Šä¼ è¯·æ±‚
                    url: "/other/getfileup",
                    dataType: "text",
                    processData: false,
                    contentType: false,
                    data: formData,
                    beforeSend: function (xhr) {
                        xhr.setRequestHeader(header, token);
                    },
                    success: function (Data) {
                        console.log(imgname)
                        // $("#doc-upadminheadimg").modal('close');
                        // $("#myImg").attr("src","/images/headinit.png");
                        $('#headimg').attr("src","../other/getImg")
                    }})
            },onCancel: function (e) {
            }})
    }
    //å¾—åˆ°æ‰“ç®—ä¸Šä¼ å›¾ç‰‡çš„åå­—
    $('#doc-form-file').on('change', function () {
        var fileNames = '';
        $.each(this.files, function () {
            imgname = this.name
            fileNames += '<span class="" style="color: #7c7c7c;">' + this.name + '</span> ';
        });
        $('#file-list').html(fileNames);
    });
    //å¾—åˆ°æ‰“ç®—ä¸Šä¼ çš„å›¾ç‰‡(å›æ˜¾)
    function changImg(e){
        for (var i = 0; i < e.target.files.length; i++) {
            var file = e.target.files.item(i);
            if (!(/^image\/.*$/i.test(file.type))) {
                continue; //ä¸æ˜¯å›¾ç‰‡ å°±è·³å‡ºè¿™ä¸€æ¬¡å¾ªç¯
            }
            //å®ä¾‹åŒ–FileReader API
            var freader = new FileReader();
            freader.readAsDataURL(file);
            freader.onload = function(e) {
                if(imgname !== null ){
                    $("#myImg").attr("src",e.target.result);
                }else{
                    getnowheadimg()
                }
            }
        }
    }
    //è·å¾—å½“å‰ç”¨æˆ·çš„å¤´åƒ
    $(function () {
        getnowheadimg()
    })
    function getnowheadimg(){

        $.ajax({
            type: "POST",                           //é€šè¿‡POSTæ–¹å¼ä¸Šä¼ è¯·æ±‚
            url: "/other/booleanhasheadimg",
            dataType: "text",
            data: {},
            beforeSend: function (xhr) {
                xhr.setRequestHeader(header, token);
            },
            success: function (Data) {
                if(Data == 'yes'){
                    $('#headimg').attr("src","../other/getImg")
                    $('#myImg').attr("src","../other/getImg")
                }else {
                    // $('#headimg').attr("src","../admin/getImg")
                    // $('#myImg').attr("src","../admin/getImg")
                    $('#headimg').attr("src","/images/headinit.png")
                    $('#myImg').attr("src","/images/headinit.png")
                }

            }})
    }

    $(function () {
        indexfirst()
    })
    var clicktype
    //åŠ è½½å‡ºOtherçš„é¦–é¡µ
    function indexfirst() {
        $('#contentarea').load("/other/index")
        $('#indexfirst').addClass("active")
        $('#showallitempage').removeClass("active")
        $('#showmanageselfpage').removeClass("active")
        $('#orderpage').removeClass("active")
        $('#allorderpage').removeClass("active")
        $('#editaddress').removeClass("active")
        $('#searchshopitem').html("")
    }
    //åŠ è½½å‡ºæ‰€æœ‰å•†å“ç•Œé¢
    function showallitempage() {
        $('#contentarea').load("/other/showallitem")
        $('#indexfirst').removeClass("active")
        $('#showmanageselfpage').removeClass("active")
        $('#showallitempage').addClass("active")
        $('#orderpage').removeClass("active")
        $('#allorderpage').removeClass("active")
        $('#editaddress').removeClass("active")
        //åŠ è½½å‡ºæœç´¢æ ·å¼
        $('#searchshopitem').html(" <div class=\"am-fl tpl-header-search\" >\n" +
            "                                    <form class=\"tpl-header-search-form\" action=\"javascript:;\">\n" +
            "                                        <button type=\"button\" class=\"tpl-header-search-btn am-icon-search\" onclick='showallshopitem($(\"#findshopitemname\").val(),clicktype)'></button>\n" +
            "                                        <input id=\"findshopitemname\" class=\"tpl-header-search-box\" type=\"text\" placeholder=\"æœç´¢å†…å®¹...\">\n" +
            "                                    </form>\n" +
            "                                </div>")
    }
    //åŠ è½½å‡ºç®¡ç†è‡ªå·±ä»¥åŠæŸ¥çœ‹è‡ªå·±æŸäº›ä¿¡æ¯ç•Œé¢
    function showmanageselfpage() {
        $('#contentarea').load("/other/showmanageself")
        $('#showmanageselfpage').addClass("active")
        $('#showallitempage').removeClass("active")
        $('#indexfirst').removeClass("active")
        $('#orderpage').removeClass("active")
        $('#allorderpage').removeClass("active")
        $('#editaddress').removeClass("active")
        $('#searchshopitem').html("")
    }
    //å±•ç°æ‰€æœ‰è®¢å•ä¿¡æ¯ç•Œé¢
    function showallorderpage() {
        $('#contentarea').load("/other/showallorderpage")
        $('#orderpage').addClass("active")
        $('#allorderpage').addClass("active")
        $('#showmanageselfpage').removeClass("active")
        $('#showallitempage').removeClass("active")
        $('#indexfirst').removeClass("active")
        $('#editaddress').removeClass("active")
        $('#searchshopitem').html("")
    }
    //åŠ è½½å‡ºç¼–è¾‘å¿«é€’ä¿¡æ¯ç•Œé¢
    function editaddresspage() {
        $('#contentarea').load("/other/editaddresspage")
        $('#editaddress').addClass("active")
        $('#orderpage').removeClass("active")
        $('#allorderpage').removeClass("active")
        $('#showmanageselfpage').removeClass("active")
        $('#showallitempage').removeClass("active")
        $('#indexfirst').removeClass("active")
        $('#searchshopitem').html("")
    }
    //å±•ç°è´­ç‰©è½¦é¡µ
    function showshopcarpage() {
        $('#contentarea').load("/other/showshopcarpage")
        $('#searchshopitem').html("")
    }
    //å±•ç°æŸ¥çœ‹æ‰€æœ‰ç³»ç»Ÿä¿¡æ¯åˆ—è¡¨é¡µ
    function lookAllSystemMessages() {
        $('#contentarea').load("/other/showsystemmessages")
        $('#searchshopitem').html("")
    }
</script>
</body>
</html>